<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Test Email Submit</title>
</head>
<body>
  <h2>Test Email Submission</h2>
  <button id="test-submit">Submit Test Email</button>
  <p id="result"></p>

	<script type="module">
  import PocketBase from './js/pocketbase.es.js';

  // const pb = new PocketBase('http://209.141.51.14:8090');
  // const pb = new PocketBase('https://pb.wethepeople.network');
  // const pb = new PocketBase('https://pocketbase:8090');
  const pb = new PocketBase('/pb');

  const result = document.getElementById('result');

  document.getElementById('test-submit').addEventListener('click', async () => {
    try {
      const record = await pb.collection('email_list').create({
        email: `test${Date.now()}@example.com`
      });
      result.textContent = '✅ Successfully submitted test email: ' + record.email;
    } catch (err) {
      console.error(err);
      result.textContent = '❌ Error submitting: ' + (err?.message || 'Unknown error');
    }
  });
  // @request.headers.referer = "https://wethepeople.network/"
</script>


</body>
</html>
